 //######
//## TreeWidget.h
//## ============
//## 07.04.2013: Cr√©ation
//## 02.06.2019: Version v2
//## 09.07.2022: Prise en compote QT57
//######

#ifndef TREEWIDGET_H
#define TREEWIDGET_H

#include <QtCore>
#include <QtWidgets>

class TreeWidget:public QTreeWidget
{
  Q_OBJECT

public:
  TreeWidget( QWidget* p_Parent );
  ~TreeWidget();

QString formatSize(qint64 size);
qint64 calculateDirectorySize(const QString &directoryPath);

void dragEnterEvent(QDragEnterEvent *event) override;
void dragMoveEvent(QDragMoveEvent *event) override;
void dropEvent(QDropEvent *event) override;

// Optionally override these if needed
QStringList mimeTypes() const override;
Qt::DropActions supportedDropActions() const override;

  void Add_FirstChild( QString p_FilePath );
  void Add_Children  ( QString p_FilePath, QTreeWidgetItem * p_Item );

  void Adjust_ColumnSize();

  QString Get_PathName( QTreeWidgetItem * p_Item );

  void keyPressEvent  ( QKeyEvent   * p_Event );
  void mousePressEvent( QMouseEvent * p_Event );
  
  
signals:
  void SIGNAL_RightClicked  ( QTreeWidgetItem *, int );
  void SIGNAL_Statut_Fichier( QString );

public slots:
  void slot_currentItemChanged( QTreeWidgetItem * p_Current, QTreeWidgetItem * /* p_Previous  */ );
  void slot_itemClicked       ( QTreeWidgetItem * p_Item, int /*p_Column*/ );

};
#endif 
